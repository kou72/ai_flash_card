const text = `問題:1973年当時の主なコミュニケーションツールは何で、現在では何が主流となっているか？回答:1973年当時は加入電話、現在は携帯電話
問題:1973年当時の映像の視聴手段と現在の視聴手段を比較して述べてください。回答:1973年当時はアナログ方式の地上放送をテレビで視聴、現在は衛星放送、CATV放送の視聴も可能であり、インターネット動画配信サービスをモバイル端末で視聴することも可能
問題:1973年当時の企業での情報処理の主流と現在の情報処理の主流を比較して述べてください。回答:1973年当時は企業内に構築された汎用機 (メインフレーム) を中心として情報を処理、現在はクラウド技術の発展・普及により、企業内に情報システムを構築せずに、データの共有や機能の拡張が可能
問題:ICT利活用が浸透している4つの分野を挙げてください。回答:防災・減災分野、医療分野、教育分野、農業分野
問題:ICTが防災・減災分野でどのように利用されているか説明してください。回答:センサーやドローンを活用し遠隔地から現地の被害状況を確認
問題:ICTが医療分野でどのように利用されているか説明してください。回答:救急車の中などからクラウドサーバに心電図のデータを送信することで病院到着前に病院で心電図を閲覧することが可能
問題:ICTが教育分野でどのように利用されているか説明してください。回答:GIGAスクール構想に基づき、授業でのパソコンやタブレット端末の利用が浸透
問題:ICTが農業分野でどのように利用されているか説明してください。回答:各種センサー情報を活用した生育管理、ドローンを活用した農薬散布などスマート農業が進展`;

const convertTextToQaJson = (text) => {
  // 改行（\n）と空白を削除
  const noMetaText = text.replace(/\n/g, "").trim();
  // テキストから問題と回答を抽出してJSON形式に変換する
  const regex = /問題:(.*?)回答:(.*?)(?=問題:|回答:|$)/g;
  const result = [];
  let match;
  while ((match = regex.exec(noMetaText)) !== null) {
    result.push({
      question: match[1].trim(),
      answer: match[2].trim(),
      note: "",
    });
  }
  return JSON.parse(JSON.stringify(result));
};

const qaJson = convertTextToQaJson(text);
console.log(qaJson);
